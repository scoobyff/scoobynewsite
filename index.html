<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Scooby Streaming Hub</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Welcome Popup -->
<div class="popup-overlay" id="welcome-popup">
    <div class="popup-content">
        <h2 class="popup-title">WELCOME TO SCOOBY CRICKET HUB</h2>
        <p>Enter your name to access premium streams</p>
        <input autocomplete="off" class="popup-input" id="user-name" placeholder="Your Name" type="text"/>
        <button class="popup-button" onclick="submitUserName()">ENTER</button>
        <p class="popup-welcome-msg">Experience the best streaming quality!</p>
    </div>
</div>

<!-- Maintenance Popup -->
<div class="popup-overlay" id="maintenance-popup" style="display:none;">
    <div class="popup-content">
        <h2 class="popup-title">SERVER IN MAINTENANCE TO BE AVAILABLE SOON</h2>
        <div class="maintenance-icon">üõ†Ô∏è</div>
        <p>We're currently improving our streaming services to provide you with a better experience.</p>
        <p>Expected to be back at 6:30 PM IST.</p>
        <p class="popup-welcome-msg" id="maintenance-time-popup"></p>
    </div>
</div>

<div class="container" id="main-content">
    <!-- Top Ad Space -->
    <div class="ad-space" id="top-ad">
        <span class="ad-label">AD</span>
        <a href="https://t.me/+u8PDYVT92MA3MTg9" onclick="trackAdClick('top-ad')" target="_blank">
            <img alt="Advertisement" src="https://i.postimg.cc/D4FJcKPY/images.png"/>
        </a>
    </div>

    <header>
        <h1>Scooby Streaming Hub</h1>
        <div>
            <span id="current-time"></span>
            <span class="welcome-user" id="welcome-message"></span>
        </div>
    </header>

    <!-- Broadcast Message Section -->
    <div class="broadcast-container" id="broadcast-container">
        <h3 class="broadcast-title">Broadcast Message</h3>
        <p class="broadcast-message" id="broadcast-message"></p>
    </div>

    <div class="watch-time-container">
        <div class="watch-time-label">YOUR WATCH TIME</div>
        <div class="watch-time-value" id="watch-time">00:00:00</div>
    </div>

    <!-- Middle Ad Space -->
    <div class="ad-space" id="middle-ad">
        <span class="ad-label">SPONSOR</span>
        <a href="https://t.me/+u8PDYVT92MA3MTg9" onclick="trackAdClick('middle-ad')" target="_blank">
            <img alt="Sponsor Advertisement" src="https://i.postimg.cc/D4FJcKPY/images.png"/>
        </a>
    </div>

    <!-- Categories Section -->
    <h2 class="section-title">Choose a Category</h2>
    <div id="categories-container"></div>

    <!-- Help Section -->
    <div class="help-section">
        <h3>Need Help?</h3>
        <p>If you're experiencing any issues with the streams or have questions, send us a message below:</p>
        <textarea id="help-message" placeholder="Describe your issue or ask a question..."></textarea>
        <button onclick="sendHelpMessage()">SEND MESSAGE</button>
    </div>

    <!-- Bottom Ad Space -->
    <div class="ad-space" id="bottom-ad">
        <span class="ad-label">AD</span>
        <a href="https://t.me/+u8PDYVT92MA3MTg9" onclick="trackAdClick('bottom-ad')" target="_blank">
            <img alt="Advertisement" src="https://i.postimg.cc/D4FJcKPY/images.png"/>
        </a>
    </div>
</div>

<script src="telegram.js"></script>
<script>
// Load categories from JSON
fetch('streams.json')
    .then(res => res.json())
    .then(data => {
        const catContainer = document.getElementById('categories-container');
        data.forEach(category => {
            const catDiv = document.createElement('div');
            catDiv.className = 'category-btn';
            catDiv.innerHTML = `
                <img src="${category.categoryImage}" alt="${category.category}" class="category-logo">
                <span>${category.category}</span>
            `;
            catDiv.onclick = () => {
                window.location.href = `category.html?cat=${encodeURIComponent(category.category)}`;
            };
            catContainer.appendChild(catDiv);
        });
    });

// Live clock
setInterval(() => {
    document.getElementById('current-time').textContent = getIndianTime();
}, 1000);

// Watch time tracking
let watchSeconds = 0;
setInterval(() => {
    watchSeconds++;
    const hrs = String(Math.floor(watchSeconds / 3600)).padStart(2, '0');
    const mins = String(Math.floor((watchSeconds % 3600) / 60)).padStart(2, '0');
    const secs = String(watchSeconds % 60).padStart(2, '0');
    document.getElementById('watch-time').textContent = `${hrs}:${mins}:${secs}`;
}, 1000);
</script>

</body>
</html>